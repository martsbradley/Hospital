<!DOCTYPE html>
<html
    xmlns:a="http://xmlns.jcp.org/jsf/passthrough" 
    xmlns:c="http://xmlns.jcp.org/jsf/core"
    xmlns:e="http://xmlns.jcp.org/jsf/composite/emcomp"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:p="http://primefaces.org/ui" 
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:jsf="http://xmlns.jcp.org/jsf">
<h:head>
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"></link>
        <style>
            .error { color: red;}
        </style>
</h:head>
<h:body>
    <f:view>
        <h:form id="form">
        <h:outputLabel id="messages" value="" binding="#{patientPaged.reportErrors}"/>
        <h:message for="messages" class="error" />

        <h:panelGroup>
            <p:dataTable id="lazyDataTable" value="#{patientPaged.allPlayers}" var="player" paginator="true" rows="5"
                  rowKey="#{player.id}" paginatorPosition="bottom"
        paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        lazy="true" rowsPerPageTemplate="5" >

               <p:column sortBy="#{player.id}">
                    <f:facet name="header">Id</f:facet>
                    <h:link outcome="patient" value="#{player.id}">
                        <f:param name="id" value="#{player.id}"/>
                    </h:link>
                </p:column>

               <p:column sortBy="#{player.forename}">
                    <f:facet name="header">Forename</f:facet>
                    <h:link outcome="patient" value="#{player.forename}">
                        <f:param name="id" value="#{player.id}"/>
                    </h:link>
                </p:column>

                <p:column sortBy="#{player.surname}">
                    <f:facet name="header">Surname</f:facet>
                    <h:link outcome="patient" value="#{player.surname}">
                        <f:param id="id" name="id" value="#{player.id}"/>
                    </h:link>
                </p:column>

                <p:column sortBy="#{player.dob}">
                    <f:facet name="header">dob</f:facet>
                    <h:link outcome="patient" value="#{player.dob}">
                        <f:param name="id" value="#{player.id}"/>
                    </h:link>
                </p:column>
            </p:dataTable>
            <h:commandButton id="new" value="New" action="patient" immediate="true"  />
            <h:button id="back" value="Cancel" outcome="greeting" />
        </h:panelGroup>

        </h:form>
    </f:view>
</h:body>
</html>
