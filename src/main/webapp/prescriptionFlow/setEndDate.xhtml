<!DOCTYPE html>
<html
    xmlns:a="http://xmlns.jcp.org/jsf/passthrough" 
    xmlns:c="http://xmlns.jcp.org/jsf/core"
    xmlns:e="http://xmlns.jcp.org/jsf/composite/emcomp"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:p="http://primefaces.org/ui" 
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:jsf="http://xmlns.jcp.org/jsf">
<h:head>

        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"></link>
        <style>
            .error { color: red;}
        </style>
</h:head>
<h:body>
    <h:form id="form">
    <h2>Prescription End Date</h2>
            <div class="form-group row">
                <h:outputLabel for="medicineName" class="col-sm-2 col-form-label">Medicine</h:outputLabel>
                <h:outputText id="medicineName" class="col-sm-2 col-form-label" value="#{prescriptionFlowBean.selectedMedicine.name}"/>
            </div>
            <div class="form-group row">
                <h:outputLabel for="startDate" class="col-sm-2 col-form-label">Start Date</h:outputLabel>
                <h:outputText id="startDate" class="col-sm-2 col-form-label" value="#{prescriptionFlowBean.startDate}" >
                    <f:converter converterId="stringDateConverter" />
                </h:outputText>

            </div>
            <div class="form-group row">
                <h:outputLabel for="endDate" class="col-sm-2 col-form-label">End Date</h:outputLabel>

                <span class="col-sm-2 col-form-label" id="endDate">
                    <e:date id="enddate" title="Ending Date" dateValue="#{prescriptionFlowBean.endDate}" >
                         <f:validateBean for="enddate" validationGroups="java.util.RandomAccess"/>
                    </e:date>
                    <h:messages for="marty" class="error" />
                </span>
            </div>


            <h:commandButton id="cancel" value="Cancel" 
                            action="returnFromFlow" immediate="true" />
            <h:commandButton id="search" value="Back" 
                            immediate="true"
                            action="#{prescriptionFlowBean.goStartDate}" />
            <h:commandButton id="next" value="Next" 
                            action="#{prescriptionFlowBean.gotoSummary}" />

	    <f:validateWholeBean id="marty" value="#{prescriptionFlowBean}" 
		validationGroups="java.util.RandomAccess"/>
    </h:form>
</h:body>
</html>
